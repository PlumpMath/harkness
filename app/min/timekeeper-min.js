timekeeper={},timekeeper.log=[],timekeeper.personDurations={},timekeeper.linkDurations={},timekeeper.currentSpeech={},timekeeper.prevSpeech={},timekeeper.setCurrentPerson=function(e){prevS={},prevS.name=timekeeper.currentSpeech.name,prevS.startedAt=timekeeper.currentSpeech.startedAt,prevS.endedAt=new Date,prevS.duration=prevS.endedAt-prevS.startedAt,"undefined"!=typeof timekeeper.prevSpeech.name&&(timekeeper.log.push(prevS),timekeeper.updateDurations(prevS.name,e,prevS.duration)),timekeeper.currentSpeech.name=e,timekeeper.currentSpeech.startedAt=new Date,timekeeper.prevSpeech=helpers.cloneObj(prevS)},timekeeper.updateDurations=function(e,t,r){timekeeper.personDurations[t]+=r,timekeeper.linkDurations[e+"-"+t]+=r,ui.updateLog(e,t,r),table.updateLinks()},timekeeper.getMaxLinkDuration=function(){var e=0;return _.each(timekeeper.linkDurations,function(t,r){t>e&&(e=t)}),e},timekeeper.getTotalLinkDuration=function(){var e=0;return _.each(timekeeper.linkDurations,function(t,r){e+=t}),e},timekeeper.getLinkDurationsUni=function(e,t){return timekeeper.linkDurations[e+"-"+t]+timekeeper.linkDurations[t+"-"+e]},timekeeper.start=function(){_.forEach(people.getData(),function(e,t){timekeeper.personDurations[t.toUpperCase()]=0,_.forEach(people.getData(),function(e,r){t!=r&&(timekeeper.linkDurations[t.toUpperCase()+"-"+r.toUpperCase()]=0)})}),timekeeper.currentSpeech.name="",timekeeper.currentSpeech.startedAt=null};